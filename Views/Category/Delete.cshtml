@* 
@using RealEstate_Mvc_.Dtos
@model CategoryResponseModel;
<h2 class="text-center">Delete Category</h2>
<div class="container mt-5">
    <form asp-action="Delete" id="form" method="post">
        <div class="form-group">
            <label for="categoryName">Enter Category Name:</label>
            <input type="text" class="form-control" id="categoryName" name="Name" placeholder="Enter category name" required>
        </div>
        <button type="submit" asp-controller="Category" asp-action="Delete" formmethod="post" style="margin-top: 10px" class="btn btn-danger">Delete</button>

    </form>

     @if (!string.IsNullOrEmpty(ViewBag.Message))
    {
        <div class="alert alert-info mt-3">
            @ViewBag.Message
        </div>
    } 

     @if (Model != null)
    {
        <div class="mt-4">
            <h3>Category Details</h3>
            <p><strong>Name:</strong> @Model.Name</p>
            <p><strong>Description:</strong> @Model.Description </p>
            <p><strong> Number Properties:</strong> @Model.properties.Count </p>

        </div>

    } 
    @section Scripts {
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                var deleteForm = document.getElementById('form');

                deleteForm.addEventListener('submit', function (e) {
                    e.preventDefault(); // Prevent the form from submitting immediately

                    // Show confirmation dialog
                    if (confirm('Are you sure you want to delete this category?')) {
                        // Submit the form if confirmed
                        this.submit();
                    }
                });
            });
        </script>
    }
</div>

@* 



<div class="container mt-5">
    <form id="deleteCategoryForm" method="post" action="@Url.Action("Delete", "Category", new { id = Model.Name })">
        <div class="form-group">
            <label for="categoryName">Enter Category Name:</label>
            <input type="text" class="form-control" id="categoryName" name="Name" placeholder="Enter category name" required>
        </div>
        <button type="submit" class="btn btn-danger">Delete</button>
        <a href="@Url.Action("SuperAdminDashBord", "User")" class="btn btn-secondary">Cancel</a>
    </form>
   @*  @if (Model == null)
    {

        <p>Category not found.</p>
    }
    else
    { 
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Category Details</h5>
                <p class="card-text"><strong>Name:</strong> @Model.Name</p>
                <p class="card-text"><strong>Description:</strong> @Model.Description</p>
                <p class="card-text"><strong>Properties:</strong> @Model.properties</p> <!-- Add any other details you have -->

              
            </div>
        </div>
    
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var deleteForm = document.getElementById('deleteCategoryForm');

            deleteForm.addEventListener('submit', function (e) {
                e.preventDefault(); // Prevent the form from submitting immediately

                // Show confirmation dialog
                if (confirm('Are you sure you want to delete this category?')) {
                    // Submit the form if confirmed
                    this.submit();
                }
            });
        });
    </script>
}
 *@  